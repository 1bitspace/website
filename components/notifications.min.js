/*babeled & compressed*/
'use strict';function _instanceof(a,b){if(b!=null&&typeof Symbol!=='undefined'&&b[Symbol['hasInstance']]){return!!b[Symbol['hasInstance']](a);}else{return a instanceof b;}}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError('Invalid\x20attempt\x20to\x20spread\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.');}function _unsupportedIterableToArray(a,b){if(!a)return;if(typeof a==='string')return _arrayLikeToArray(a,b);var c=Object['prototype']['toString']['call'](a)['slice'](0x8,-0x1);if(c==='Object'&&a['constructor'])c=a['constructor']['name'];if(c==='Map'||c==='Set')return Array['from'](c);if(c==='Arguments'||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/['test'](c))return _arrayLikeToArray(a,b);}function _iterableToArray(a){if(typeof Symbol!=='undefined'&&Symbol['iterator']in Object(a))return Array['from'](a);}function _arrayWithoutHoles(a){if(Array['isArray'](a))return _arrayLikeToArray(a);}function _arrayLikeToArray(a,b){if(b==null||b>a['length'])b=a['length'];for(var c=0x0,d=new Array(b);c<b;c++){d[c]=a[c];}return d;}function _classCallCheck(a,b){if(!_instanceof(a,b)){throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}}function _defineProperties(a,b){for(var c=0x0;c<b['length'];c++){var d=b[c];d['enumerable']=d['enumerable']||![];d['configurable']=!![];if('value'in d)d['writable']=!![];Object['defineProperty'](a,d['key'],d);}}function _createClass(a,b,c){if(b)_defineProperties(a['prototype'],b);if(c)_defineProperties(a,c);return a;}var App_notifications=function(){function a(b){_classCallCheck(this,a);var c=this;this['user']=b['user'];this['token']=b['token'];this['limit']=0x0;this['PerPage']=0x14;this['buttonLoading']=document['querySelector']('.button-notifications-navbar');this['container']=turpial['find']('container-notifications-list');this['bellElement']=turpial['find']('notification-bell-button');this['loop_time']=0x1388;this['is_loading_more']=![];this['websiteActive']=!![];this['AjaxUpdateStarted']=![];this['ajaxLoading']=![];this['readed']=!![];this['notifications']=[];this['position']=0x1;this['bellsElements']=[];this['lastNotificationID']='-none-';this['init'](this['position']);this['bellElement']['addEventListener']('click',function(){c['animateBell']('stop');c['setAsRead']();});this['buttonLoading']['addEventListener']('click',function(){c['is_loading'](!![]);c['loadMore']();});window['addEventListener']('focus',function(){c['websiteActive']=!![];});window['addEventListener']('blur',function(){c['websiteActive']=![];});}_createClass(a,[{'key':'setNotificationsAttributes','value':function b(){var c=this['container'];var d=c['querySelectorAll']('.notifications--urls');d=coreApp['concat'](d);d['forEach'](function(e){var f=e['getAttribute']('data-href');if(f!==null){e['href']=HOST+f;}});}},{'key':'is_loading','value':function c(d){d=turpial['un'](d,!![]);var e=this['buttonLoading'];if(d===!![]){coreApp['form']['statusButton'](e,'disabled');}else{coreApp['form']['statusButton'](e,'enabled');}}},{'key':'statuses','value':function d(e){e=e||'success';if(e==='success'){return['has-background-success','check-circle'];}else if(e==='warning'){return['has-background-warning','exclamation'];}else if(e==='error'){return['has-background-danger','times'];}else{return['has-background-info','info'];}}},{'key':'notificationTemplate','value':function e(f,g){var h=turpial['find']('ntf-'+f['id']);var i=turpial['find']('ntficon-'+f['id']);if(h!==null&&i!==null){h['remove']();i['remove']();}var j=this['statuses'](f['s']);var k='';k+=turpial['el']('div',{'class':'column\x20is-2\x20is-flex-centered\x20is-grid','id':'ntficon-'+f['id']},[turpial['el']('p',{'class':''['concat'](j[0x0],'\x20has-text-centered\x20shadow-element\x20has-text-white\x20is-size-4'),'style':'border-radius:6px;'},[turpial['el']('i',{'class':'fas\x20fa-'['concat'](j[0x1])})])]);k+=turpial['el']('div',{'class':'column\x20is-10\x20is-flex-centered\x20is-grid','id':'ntf-'+f['id']},[turpial['el']('p',{'class':'bolder'},coreApp['date']['onlydate'](f['t'])),turpial['el']('p',f['c'])]);return k;}},{'key':'animateBell','value':function f(g){g=turpial['un'](g,'start');this['bellsElements']=_toConsumableArray(document['querySelectorAll']('.nt-circle,\x20.nt-bell'));this['bellsElements']['forEach'](function(h){if(g==='start'){h['classList']['add']('animated');h['classList']['add']('has-text-warning');}else{h['classList']['remove']('animated');h['classList']['remove']('has-text-warning');}});}},{'key':'AjaxUpdate','value':function g(){var h=this;if(this['AjaxUpdateStarted']===!![]){return;}this['AjaxUpdateStarted']=!![];var i=setInterval(function(){if(h['is_loading_more']===!![]){return;}if(h['websiteActive']===![]){return;}if(h['ajaxLoading']===!![]){return;}this['ajaxLoading']=!![];h['init'](0x0,{'user':h['user'],'token':h['token'],'action':'update','lastNotificationID':h['lastNotificationID']});},h['loop_time']);}},{'key':'loadMore','value':function h(){if(this['position']>=this['limit']){this['onLimit']();return;}if(this['is_loading_more']===!![]){return;}this['is_loading_more']=!![];this['position']=this['position']+0x1;this['init'](this['position'],{'user':this['user'],'token':this['token'],'action':'loadMore'});}},{'key':'onLimit','value':function i(){hideElement(this['buttonLoading']);}},{'key':'setAsRead','value':function j(){if(this['readed']===!![]){return;}this['init'](0x0,{'user':this['user'],'token':this['token'],'action':'setAsRead'});}},{'key':'nodata','value':function k(){this['readed']=!![];this['animateBell']('stop');hideElement(this['buttonLoading']);this['position']=0x0;turpial['insert'](this['container'],turpial['el']('div',{'class':'columns\x20is-multiline'},[turpial['el']('div',{'class':'column\x20is-12'},[turpial['el']('h4',{'class':'has-text-centered','style':'margin:\x2045px\x200;'},[turpial['el']('span',{'class':'has-text-dark\x20sh-spacing'},'YOU\x20DON\x27T\x20HAVE\x20NOTIFICATIONS')])])]));}},{'key':'init','value':function l(m,n){var o=this;n=n||{};turpial['mdb']['paginate']['create']({'url':'pagination/user-notifications','itemName':'t','dataType':'ARRAY','PerPage':o['PerPage'],'nextButton':'Next','backButton':'Previus','buttonClasses':'button\x20has-background-alt-5\x20bold\x20has-text-white','buttonSelectedClasses':'button\x20is-primary\x20has-text-white\x20bold','disabledStyles':'background-color:white;color:var(--color-alt-4)\x20!important;','position':m||0x1,'filters':[],'sortby':n['sortby']||'desc','searchFor':![],'fromDate':![],'topbar':![],'public_key':this['user']['api_public_key'],'token':coreApp['d'](this['token']),'action':n['action']||'no-action','last_notification':n['lastNotificationID'],'untilDate':![],'itemNameForDates':'t','navigationContainer':![],'ready':function p(q){o['ajaxLoading']=![];if(n['action']==='no-action'){o['is_loading'](![]);}o['limit']=q['limit'];o['notifications']=q['data'];o['readed']=q['readed'];o['callback']=q['callback'];o['is_loading'](![]);if(o['readed']===![]){o['animateBell']();showElement(o['buttonLoading'],'inline-flex');o['position']=0x0;}if(q['data']===null){o['nodata']();return;}if(q['data']['length']<0x1){return;}o['lastNotificationID']=o['notifications'][0x0]['id'];o['AjaxUpdate']();var r='';o['notifications']['forEach'](function(s){r+=o['notificationTemplate'](s,n['action']);});r=turpial['el']('div',{'class':'columns\x20is-multiline\x20is-mobile'},r);if(o['callback']==='loadMore'){o['is_loading_more']=![];turpial['mount'](o['container'],r);}else{turpial['insert'](o['container'],r);}o['setNotificationsAttributes']();},'onerror':function q(r){o['readed']=r['readed'];if(r['callback']==='update'){return;}}});}}]);return a;}();var app_notifications=new App_notifications({'user':coreApp['json']['parse'](coreApp['d'](u)),'token':token});
